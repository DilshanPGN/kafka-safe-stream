<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kafka UI</title>
</head>
<body>
<h4>Insert Payload:</h4>
<textarea id="payload" spellcheck="false"></textarea>
<button id="produceButton">Produce Payload</button>

<h4>Consumed Messages:</h4>
<textarea id="consumedMessages" spellcheck="false" readonly></textarea>
<button id="consumeButton">Start Consuming</button>
<button id="stopConsumeButton">Stop Consuming</button>
<button id="clearMessages">Clear Messages</button>

<script>
    const { ipcRenderer } = require('electron');

    document.getElementById('produceButton').addEventListener('click', () => {
        const payload = document.getElementById('payload').value;
        ipcRenderer.send('produce-payload', payload);
    });

    document.getElementById('consumeButton').addEventListener('click', () => {
        ipcRenderer.send('start-consuming');
    });

    document.getElementById('stopConsumeButton').addEventListener('click', () => {
        ipcRenderer.send('stop-consuming');
    });

    document.getElementById('clearMessages').addEventListener('click', () => {
        const consumedMessages = document.getElementById('consumedMessages');
        consumedMessages.value = '';
    });

    ipcRenderer.on('consumed-message', (event, message) => {
        const consumedMessages = document.getElementById('consumedMessages');
        consumedMessages.value += message + '\n';
    });
</script>
<script src="backend/kafka.js"></script>
</body>
</html>